{% extends 'courses/layout.html' %}
{% load widget_tweaks %}
{% block content %}
    <h2>Uploaded grades preview:</h2>
    {% if errors %}
    <h4 class="text-danger">Errors</h4>
    <ul class="text-danger">
    {% for error in errors %}
        <li>{{ error }}</li>
    {% endfor %}
    </ul>
    {% endif %}
    <table class="table table-bordered">
      <thead>
        <tr>
            <th scope="col">Student</th>
            {% for name in task_names %}
              <th scope="col">{{ name }}</th>
            {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for grade, task_points in grades %}
        <tr>
            <td>{{ grade.student }}</td>
            {% for task_points in task_points %}
                <td>{{ task_points.points }}</td>
            {% endfor %}
        </tr>
      {% endfor %}
      </tbody>
    </table>
    <a href="/courses/cancelUpload/{{ event_id }}/{{ csv_file_path }}" class="btn btn-outline-danger">Cancel</a>
    <a href="/courses/confirmUpload/{{ event_id }}/{{ csv_file_path }}" class="btn btn-primary">Confirm</a>
{% endblock %}